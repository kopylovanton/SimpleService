
Simple service V2
=============

Проект для создания REST сервисов интеграции с легаси (например процессинговой) системой. 
Основные возможности:
- Конфигурация GET (SQL|) и/или POST (PLSQL) полей запросов и ответов
- Атодокументирование в формате swagger (openapi 3) 
- Автоматическое переподключение к базе данных в том числе при перекомпиляции PL/SQL функций 
- Автоматический старт и рестарт приложения
- Дополнительный REST статус запрос для получения информации о работе сервиса и встраивания в системы мониторинга
- Ротация и архивирование логов с заданной глубиной


Compatibility
=============

Проект построен компонентах: 
- [Nginx](https://nginx.org/ru/) 
- [aiohttp](https://docs.aiohttp.org/en/stable/index.html)  
- [Cx-Oracle](https://oracle.github.io/python-cx_Oracle/) 


Installation
============

Предварительная настройка (установка python3.6+, nginx, установка драйвера Oracle и создание пользователя) сервера описана в каталоге /docs/readme_<os_type>.md
Навстройка нового сервиса на основе шаблона описана /docs/readme.md

Technical Requirements
============

Рекомендуемы аппаратные требования (достаточно для запуска нескольких сервисов): 
- процессорныя ядра 2
- оперативная память 2Gb

Программные:
- Операционная система Ubuntu 18 или CentOS 7
- Nginx
- python 3.6+ (текущая стабильная версия из репозитория) 
- Oracle Instant Client
- systemd


Resources
=============

- /docs : инструкции  предварительной настройки сервера
- /src : код программы и скрипты утановки
- /dist : подготовленный архив для установки на сервере со всеми необходимыми python зависимостями


URLs
====
```
- <host>:<port>/<service name>/<VERSION> - адрес вызова сервиса

- <host>:<port>/<service name>/<VERSION>/status - проверка состояния сервиса (рандомного воркера)

- <host>:<port>/<service name>/swagger - html страница с документацией и возможностью пробного вызова сервиса 
```
